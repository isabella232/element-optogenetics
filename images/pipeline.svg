<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="812pt" height="436" viewBox="0 0 811.5 327"><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 323)"><polygon fill="#fff" stroke="none" points="-4 4 -4 -323 807.5 -323 807.5 4 -4 4"/><g id="node1" class="node"><title>opto.OptoEvent</title><g id="a_node1"><a xlink:title="→ opto.OptoProtocolstim_start_time ------------------------------stim_end_time"><polygon fill="#0f0" fill-opacity=".188" stroke="#0f0" stroke-opacity=".188" points="233 -35 134 -35 134 0 233 0 233 -35"/><text x="142" y="-15.4" fill="#006400" font-family="arial" font-size="12" text-anchor="start" text-decoration="underline">opto.OptoEvent</text></a></g></g><g id="node2" class="node"><title>opto.OptoProtocol</title><g id="a_node2"><a xlink:title="→ session.Sessionprotocol_id ------------------------------→ opto.OptoStimParams→ surgery.Implantation→ [nullable] Device"><polygon fill="#0f0" fill-opacity=".188" stroke="#0f0" stroke-opacity=".188" points="240 -106 127 -106 127 -71 240 -71 240 -106"/><text x="135" y="-86.4" fill="#006400" font-family="arial" font-size="12" text-anchor="start" text-decoration="underline">opto.OptoProtocol</text></a></g></g><g id="edge1" class="edge"><title>opto.OptoProtocol-&gt;opto.OptoEvent</title><path fill="none" stroke="#000" stroke-opacity=".251" stroke-width=".75" d="M183.5,-70.8C183.5,-59.95 183.5,-45.87 183.5,-35.05"/></g><g id="node3" class="node"><title>Device</title><g id="a_node3"><a xlink:title="device ------------------------------modality description=&quot;&quot;"><polygon fill="#000" fill-opacity=".125" stroke="none" points="47 -177 0 -177 0 -142 47 -142 47 -177"/><text x="8" y="-158" font-family="arial" font-size="10" text-anchor="start" text-decoration="underline">Device</text></a></g></g><g id="edge2" class="edge"><title>Device-&gt;opto.OptoProtocol</title><path fill="none" stroke="#000" stroke-dasharray="5 2" stroke-opacity=".251" stroke-width=".75" d="M46.84,-146.57C50.07,-145 53.35,-143.44 56.5,-142 84.07,-129.43 115.54,-116.41 140.26,-106.48"/></g><g id="node4" class="node"><title>session.Session</title><g id="a_node4"><a xlink:title="→ subject.Subjectsession_id ------------------------------session_datetime"><polygon fill="#0f0" fill-opacity=".188" stroke="#0f0" stroke-opacity=".188" points="169.5 -177 65.5 -177 65.5 -142 169.5 -142 169.5 -177"/><text x="73.5" y="-157.4" fill="#006400" font-family="arial" font-size="12" text-anchor="start" text-decoration="underline">session.Session</text></a></g></g><g id="edge3" class="edge"><title>session.Session-&gt;opto.OptoProtocol</title><path fill="none" stroke="#000" stroke-opacity=".251" stroke-width=".75" d="M133.48,-141.8C143.85,-130.95 157.32,-116.87 167.67,-106.05"/></g><g id="node5" class="node"><title>opto.OptoWaveform.Ramp</title><g id="a_node5"><a xlink:title="→ opto.OptoWaveform------------------------------ramp_up_proportion ramp_down_proportion"><polygon fill="none" stroke="none" points="463 -169 330 -169 330 -150 463 -150 463 -169"/><text x="396.5" y="-157" font-family="arial" font-size="10" text-anchor="middle">opto.OptoWaveform.Ramp</text></a></g></g><g id="node6" class="node"><title>surgery.Implantation</title><g id="a_node6"><a xlink:title="→ subject.Subjectimplant_date → surgery.ImplantationType→ surgery.BrainRegion.proj(target_region=&quot;region_acronym&quot;)→ surgery.Hemisphere.proj(target_hemisphere=&quot;hemisphere&quot;)------------------------------→ lab.User.proj(surgeon=&quot;user&quot;)implant_comment=&quot;&quot;"><polygon fill="#0f0" fill-opacity=".188" stroke="#0f0" stroke-opacity=".188" points="311.5 -177 187.5 -177 187.5 -142 311.5 -142 311.5 -177"/><text x="195.5" y="-157.4" fill="#006400" font-family="arial" font-size="12" text-anchor="start" text-decoration="underline">surgery.Implantation</text></a></g></g><g id="edge4" class="edge"><title>surgery.Implantation-&gt;opto.OptoProtocol</title><path fill="none" stroke="#000" stroke-dasharray="5 2" stroke-opacity=".251" stroke-width=".75" d="M233.52,-141.8C223.15,-130.95 209.68,-116.87 199.33,-106.05"/></g><g id="node7" class="node"><title>opto.OptoWaveform.Square</title><g id="a_node7"><a xlink:title="→ opto.OptoWaveform------------------------------on_proportion off_proportion"><polygon fill="none" stroke="none" points="712 -98 575 -98 575 -79 712 -79 712 -98"/><text x="643.5" y="-86" font-family="arial" font-size="10" text-anchor="middle">opto.OptoWaveform.Square</text></a></g></g><g id="node8" class="node"><title>opto.OptoStimParams</title><g id="a_node8"><a xlink:title="opto_params_id ------------------------------→ opto.OptoWaveformwavelength power=null light_intensity=null frequency duration protocol_description=&quot;&quot;"><polygon fill="#0f0" fill-opacity=".188" stroke="#0f0" stroke-opacity=".188" points="615.5 -177 481.5 -177 481.5 -142 615.5 -142 615.5 -177"/><text x="489.5" y="-157.4" fill="#006400" font-family="arial" font-size="12" text-anchor="start" text-decoration="underline">opto.OptoStimParams</text></a></g></g><g id="edge5" class="edge"><title>opto.OptoStimParams-&gt;opto.OptoProtocol</title><path fill="none" stroke="#000" stroke-dasharray="5 2" stroke-opacity=".251" stroke-width=".75" d="M481.33,-143.98C478.01,-143.3 474.72,-142.64 471.5,-142 391.48,-126.14 298.6,-109.53 240.43,-99.34"/></g><g id="node9" class="node"><title>opto.OptoWaveform.Sine</title><g id="a_node9"><a xlink:title="→ opto.OptoWaveform------------------------------number_of_cycles starting_phase=0.00"><polygon fill="none" stroke="none" points="803.5 -27 677.5 -27 677.5 -8 803.5 -8 803.5 -27"/><text x="740.5" y="-15" font-family="arial" font-size="10" text-anchor="middle">opto.OptoWaveform.Sine</text></a></g></g><g id="node10" class="node"><title>opto.OptoWaveform</title><g id="a_node10"><a xlink:title="waveform_name ------------------------------→ opto.OptoWaveformTypenormalized_waveform=null waveform_description=&quot;&quot;"><polygon fill="#000" fill-opacity=".125" stroke="none" points="695.5 -248 591.5 -248 591.5 -213 695.5 -213 695.5 -248"/><text x="599.5" y="-229" font-family="arial" font-size="10" text-anchor="start" text-decoration="underline">opto.OptoWaveform</text></a></g></g><g id="edge6" class="edge"><title>opto.OptoWaveform-&gt;opto.OptoWaveform.Ramp</title><path fill="none" stroke="#000" stroke-opacity=".251" stroke-width="2" d="M591.72,-215.04C541.78,-201.09 467.91,-180.45 426.84,-168.98"/></g><g id="edge7" class="edge"><title>opto.OptoWaveform-&gt;opto.OptoWaveform.Square</title><path fill="none" stroke="#000" stroke-opacity=".251" stroke-width="2" d="M643.5,-213.17C643.5,-183.16 643.5,-120.27 643.5,-97.75"/></g><g id="edge8" class="edge"><title>opto.OptoWaveform-&gt;opto.OptoStimParams</title><path fill="none" stroke="#000" stroke-dasharray="5 2" stroke-opacity=".251" stroke-width=".75" d="M620.99,-213.15C606.17,-202.39 586.82,-188.34 571.84,-177.46"/></g><g id="edge9" class="edge"><title>opto.OptoWaveform-&gt;opto.OptoWaveform.Sine</title><path fill="none" stroke="#000" stroke-opacity=".251" stroke-width="2" d="M656.34,-213.34C673.72,-190.68 704.49,-147.54 721.5,-106 732.81,-78.38 737.84,-42.97 739.65,-26.99"/></g><g id="node11" class="node"><title>opto.OptoWaveformType</title><g id="a_node11"><a xlink:title="waveform_type"><polygon fill="#000" fill-opacity=".125" stroke="none" points="706 -319 581 -319 581 -284 706 -284 706 -319"/><text x="589" y="-300" font-family="arial" font-size="10" text-anchor="start" text-decoration="underline">opto.OptoWaveformType</text></a></g></g><g id="edge10" class="edge"><title>opto.OptoWaveformType-&gt;opto.OptoWaveform</title><path fill="none" stroke="#000" stroke-dasharray="5 2" stroke-opacity=".251" stroke-width=".75" d="M643.5,-284.15C643.5,-273.15 643.5,-258.71 643.5,-247.73"/></g><g id="node12" class="node"><title>subject.Subject</title><g id="a_node12"><a xlink:title="subject ------------------------------subject_nickname=&quot;&quot; sex subject_birth_date subject_description=&quot;&quot;"><polygon fill="#0f0" fill-opacity=".188" stroke="#0f0" stroke-opacity=".188" points="232.5 -248 134.5 -248 134.5 -213 232.5 -213 232.5 -248"/><text x="142.5" y="-228.4" fill="#006400" font-family="arial" font-size="12" text-anchor="start" text-decoration="underline">subject.Subject</text></a></g></g><g id="edge11" class="edge"><title>subject.Subject-&gt;session.Session</title><path fill="none" stroke="#000" stroke-opacity=".251" stroke-width=".75" d="M167.52,-212.8C157.15,-201.95 143.68,-187.87 133.33,-177.05"/></g><g id="edge12" class="edge"><title>subject.Subject-&gt;surgery.Implantation</title><path fill="none" stroke="#000" stroke-opacity=".251" stroke-width=".75" d="M199.48,-212.8C209.85,-201.95 223.32,-187.87 233.67,-177.05"/></g></g></svg>